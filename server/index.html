<!doctype html>
<html>
<head>
	<meta charset="UTF-8">
	<title>hej</title>
</head>
<body>
	<p>hej</p>

	<form onsubmit="return search();"><input type="text" placeholder="search" id="artist-search"><button type="submit">search</button></form>

	<ul id="results"></ul>

	<script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/2.0.4/socket.io.slim.js"></script>
	<script>
		var socket = io();

		socket.on("search",function(result){
			var result = JSON.parse(result);
			console.log("search results:",result);
			console.log(result)

			var html = "";
			for (var i = 0, len = result.tracks.items.length; i < len; i++) {
				console.log()
				var track =result.tracks.items[i];
				html+="<li>"+track.artists[0].name+" - "+track.name+"</li>";
			}

			document.getElementById("results").innerHTML=html;
		})

		function search(){
			var string = document.getElementById("artist-search").value;

			socket.emit("search", string);

			console.log(string );
			return false;
		}
	</script>
</body>
</html>